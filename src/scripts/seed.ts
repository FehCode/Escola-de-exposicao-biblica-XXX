import { PrismaClient } from '@prisma/client'
import bcrypt from 'bcryptjs'

const prisma = new PrismaClient()

async function main() {
  console.log('üå± Iniciando seed do banco de dados...')

  // Criar usu√°rio admin
  const hashedPassword = await bcrypt.hash('admin123', 12)
  
  const admin = await prisma.user.upsert({
    where: { email: 'admin@exposicaobiblica.com' },
    update: {},
    create: {
      email: 'admin@exposicaobiblica.com',
      name: 'Administrador',
      password: hashedPassword,
      role: 'ADMIN',
    },
  })

  // Criar usu√°rio instrutor
  const instructor = await prisma.user.upsert({
    where: { email: 'instructor@exposicaobiblica.com' },
    update: {},
    create: {
      email: 'instructor@exposicaobiblica.com',
      name: 'Professor Silva',
      password: hashedPassword,
      role: 'INSTRUCTOR',
    },
  })

  // Criar usu√°rio estudante
  const student = await prisma.user.upsert({
    where: { email: 'student@exposicaobiblica.com' },
    update: {},
    create: {
      email: 'student@exposicaobiblica.com',
      name: 'Jo√£o Silva',
      password: hashedPassword,
      role: 'STUDENT',
    },
  })

  // Criar curso 1: Fundamentos da Exposi√ß√£o B√≠blica
  const course1 = await prisma.course.upsert({
    where: { id: 'course-1' },
    update: {},
    create: {
      id: 'course-1',
      title: 'Fundamentos da Exposi√ß√£o B√≠blica',
      description: 'Aprenda os princ√≠pios b√°sicos para interpretar e expor textos b√≠blicos de forma eficaz. Este curso aborda os fundamentos essenciais da hermen√™utica b√≠blica e t√©cnicas de exposi√ß√£o.',
      duration: 150, // 2h 30min
      level: 'BEGINNER',
      isPublished: true,
    },
  })

  // Li√ß√µes do curso 1
  const lesson1_1 = await prisma.lesson.create({
    data: {
      title: 'Introdu√ß√£o √† Exposi√ß√£o B√≠blica',
      content: `# Introdu√ß√£o √† Exposi√ß√£o B√≠blica

## O que √© Exposi√ß√£o B√≠blica?

A exposi√ß√£o b√≠blica √© o processo de extrair o significado original de um texto b√≠blico e aplic√°-lo de forma relevante ao contexto atual. √â uma forma de prega√ß√£o que se concentra na interpreta√ß√£o cuidadosa e na apresenta√ß√£o clara da Palavra de Deus.

## Objetivos da Exposi√ß√£o B√≠blica

1. **Interpreta√ß√£o Precisa**: Entender o que o texto significava originalmente
2. **Aplica√ß√£o Relevante**: Conectar a verdade b√≠blica com a vida atual
3. **Comunica√ß√£o Clara**: Apresentar a mensagem de forma compreens√≠vel

## Princ√≠pios Fundamentais

### 1. Contexto √© Tudo
- Contexto hist√≥rico
- Contexto cultural
- Contexto liter√°rio
- Contexto teol√≥gico

### 2. A Escritura Interpreta a Escritura
- Usar passagens relacionadas
- Considerar o ensino b√≠blico como um todo
- Evitar contradi√ß√µes

### 3. Aplica√ß√£o Pr√°tica
- Conectar com a vida real
- Oferecer orienta√ß√£o pr√°tica
- Manter relev√¢ncia contempor√¢nea

## Benef√≠cios da Exposi√ß√£o B√≠blica

- **Precis√£o Doutrin√°ria**: Evita interpreta√ß√µes err√¥neas
- **Relev√¢ncia**: Conecta com quest√µes atuais
- **Autoridade**: Baseia-se na autoridade da Escritura
- **Transforma√ß√£o**: Promove mudan√ßa de vida

No pr√≥ximo m√≥dulo, exploraremos os diferentes tipos de g√™neros liter√°rios b√≠blicos e como interpret√°-los adequadamente.`,
      order: 1,
      duration: 30,
      courseId: course1.id,
    },
  })

  const lesson1_2 = await prisma.lesson.create({
    data: {
      title: 'G√™neros Liter√°rios B√≠blicos',
      content: `# G√™neros Liter√°rios B√≠blicos

## Por que os G√™neros Importam?

Cada g√™nero liter√°rio na B√≠blia tem suas pr√≥prias conven√ß√µes e regras de interpreta√ß√£o. Entender o g√™nero √© essencial para uma interpreta√ß√£o correta.

## Principais G√™neros B√≠blicos

### 1. Narrativa Hist√≥rica
**Exemplos**: G√™nesis, √äxodo, Evangelhos, Atos

**Caracter√≠sticas**:
- Conta eventos hist√≥ricos
- Apresenta personagens e suas a√ß√µes
- Tem um enredo com in√≠cio, meio e fim
- Usa di√°logos e descri√ß√µes

**Como Interpretar**:
- Identificar o prop√≥sito da narrativa
- Observar padr√µes e repeti√ß√µes
- Notar contrastes e compara√ß√µes
- Buscar o significado teol√≥gico

### 2. Poesia
**Exemplos**: Salmos, Prov√©rbios, C√¢nticos

**Caracter√≠sticas**:
- Linguagem figurada e metaf√≥rica
- Paralelismo hebraico
- Uso de imagens e s√≠mbolos
- Express√£o emocional

**Como Interpretar**:
- Identificar o tipo de paralelismo
- Reconhecer figuras de linguagem
- Considerar o contexto emocional
- Buscar o significado literal por tr√°s da met√°fora

### 3. Lei
**Exemplos**: Lev√≠tico, Deuteron√¥mio

**Caracter√≠sticas**:
- Comandos diretos
- Estabelece padr√µes de comportamento
- Revela o car√°ter de Deus
- Aponta para Cristo

**Como Interpretar**:
- Distinguir entre lei moral, cerimonial e civil
- Buscar o princ√≠pio subjacente
- Considerar o contexto hist√≥rico
- Aplicar atrav√©s da lente do Novo Testamento

### 4. Profecia
**Exemplos**: Isa√≠as, Jeremias, Apocalipse

**Caracter√≠sticas**:
- Linguagem apocal√≠ptica
- Uso de s√≠mbolos e imagens
- Mistura de passado, presente e futuro
- Foco na soberania de Deus

**Como Interpretar**:
- Identificar o contexto hist√≥rico
- Reconhecer cumprimentos
- Distinguir entre literal e simb√≥lico
- Buscar o significado teol√≥gico

### 5. Ep√≠stolas (Cartas)
**Exemplos**: Romanos, Cor√≠ntios, Ef√©sios

**Caracter√≠sticas**:
- Escritas para situa√ß√µes espec√≠ficas
- Argumenta√ß√£o l√≥gica
- Instru√ß√£o doutrin√°ria
- Aplica√ß√£o pr√°tica

**Como Interpretar**:
- Identificar o problema ou quest√£o
- Seguir o argumento do autor
- Distinguir entre cultural e universal
- Aplicar princ√≠pios atemporais

## Exerc√≠cio Pr√°tico

Leia Salmo 23 e identifique:
1. O tipo de paralelismo usado
2. As figuras de linguagem presentes
3. O significado emocional
4. A aplica√ß√£o para hoje

No pr√≥ximo m√≥dulo, aprenderemos sobre o contexto hist√≥rico e cultural.`,
      order: 2,
      duration: 45,
      courseId: course1.id,
    },
  })

  const lesson1_3 = await prisma.lesson.create({
    data: {
      title: 'Contexto Hist√≥rico e Cultural',
      content: `# Contexto Hist√≥rico e Cultural

## A Import√¢ncia do Contexto

O contexto hist√≥rico e cultural √© fundamental para a interpreta√ß√£o b√≠blica. Sem ele, corremos o risco de aplicar incorretamente as verdades b√≠blicas.

## Elementos do Contexto Hist√≥rico

### 1. Contexto Geogr√°fico
**Exemplos**:
- Jerusal√©m como centro religioso
- Mar da Galileia para pesca
- Deserto para prova√ß√£o

**Como Aplicar**:
- Pesquisar mapas b√≠blicos
- Entender a geografia da √©poca
- Considerar dist√¢ncias e relevo

### 2. Contexto Pol√≠tico
**Exemplos**:
- Dom√≠nio romano nos tempos de Jesus
- Reino dividido de Israel
- Ex√≠lio babil√¥nico

**Como Aplicar**:
- Estudar a hist√≥ria pol√≠tica
- Entender as rela√ß√µes de poder
- Considerar as implica√ß√µes para o texto

### 3. Contexto Religioso
**Exemplos**:
- Juda√≠smo do primeiro s√©culo
- Religi√µes canan√©ias
- Sincretismo religioso

**Como Aplicar**:
- Pesquisar pr√°ticas religiosas
- Entender cren√ßas contempor√¢neas
- Identificar contrastes e confrontos

### 4. Contexto Cultural
**Exemplos**:
- Costumes de casamento
- Pr√°ticas de hospitalidade
- Hierarquias sociais

**Como Aplicar**:
- Estudar costumes da √©poca
- Entender valores culturais
- Aplicar princ√≠pios universais

## Ferramentas de Pesquisa

### 1. Coment√°rios B√≠blicos
- Fornecem contexto hist√≥rico
- Explicam costumes culturais
- Apresentam diferentes interpreta√ß√µes

### 2. Dicion√°rios B√≠blicos
- Definem termos t√©cnicos
- Explicam conceitos culturais
- Fornecem informa√ß√µes hist√≥ricas

### 3. Atlas B√≠blicos
- Mostram geografia antiga
- Ilustram rotas e viagens
- Contextualizam eventos

### 4. Arqueologia B√≠blica
- Confirma eventos hist√≥ricos
- Ilustra costumes antigos
- Fornece evid√™ncias materiais

## Exemplo Pr√°tico: Jo√£o 4

**Contexto Hist√≥rico**:
- Jesus viaja pela Samaria
- Judeus e samaritanos eram inimigos
- Mulher samaritana no po√ßo ao meio-dia

**Contexto Cultural**:
- Mulheres n√£o conversavam com estranhos
- Judeus evitavam samaritanos
- Po√ßo era local de encontro social

**Aplica√ß√£o**:
- Jesus quebra barreiras culturais
- Evangelho √© para todos os povos
- Deus busca adoradores em esp√≠rito e verdade

## Exerc√≠cio

Escolha uma passagem b√≠blica e pesquise:
1. O contexto hist√≥rico
2. O contexto cultural
3. Como isso afeta a interpreta√ß√£o
4. Como aplicar hoje

No pr√≥ximo m√≥dulo, aprenderemos sobre princ√≠pios de hermen√™utica.`,
      order: 3,
      duration: 40,
      courseId: course1.id,
    },
  })

  // Criar curso 2: G√™neros Liter√°rios B√≠blicos
  const course2 = await prisma.course.upsert({
    where: { id: 'course-2' },
    update: {},
    create: {
      id: 'course-2',
      title: 'G√™neros Liter√°rios B√≠blicos',
      description: 'Explore os diferentes g√™neros liter√°rios da B√≠blia e aprenda como interpret√°-los corretamente. Este curso aprofunda a compreens√£o de narrativas, poesia, profecia e ep√≠stolas.',
      duration: 255, // 4h 15min
      level: 'INTERMEDIATE',
      isPublished: true,
    },
  })

  // Li√ß√µes do curso 2
  const lesson2_1 = await prisma.lesson.create({
    data: {
      title: 'Narrativas B√≠blicas',
      content: `# Narrativas B√≠blicas

## Caracter√≠sticas das Narrativas

As narrativas b√≠blicas s√£o hist√≥rias que revelam a verdade sobre Deus, a humanidade e o relacionamento entre eles. Elas n√£o s√£o apenas hist√≥rias, mas teologia em forma de hist√≥ria.

## Elementos da Narrativa

### 1. Personagens
- **Protagonistas**: Personagens principais
- **Antagonistas**: Oponentes
- **Personagens secund√°rios**: Apoio √† trama
- **Deus**: Sempre presente, mesmo quando n√£o mencionado

### 2. Enredo
- **Exposi√ß√£o**: Contexto inicial
- **Conflito**: Problema ou desafio
- **Cl√≠max**: Ponto de virada
- **Resolu√ß√£o**: Solu√ß√£o ou conclus√£o

### 3. Cen√°rio
- **Tempo**: Quando a hist√≥ria acontece
- **Lugar**: Onde a hist√≥ria acontece
- **Contexto**: Circunst√¢ncias hist√≥ricas

## Como Interpretar Narrativas

### 1. Identificar o Prop√≥sito
- Que verdade sobre Deus √© revelada?
- Que princ√≠pio √© ensinado?
- Como isso se relaciona com a hist√≥ria da salva√ß√£o?

### 2. Observar Padr√µes
- Repeti√ß√µes de palavras ou frases
- Contrastes entre personagens
- Paralelos com outras narrativas

### 3. Notar Detalhes
- Di√°logos revelam car√°ter
- A√ß√µes mostram valores
- Resultados demonstram princ√≠pios

## Exemplo: A Hist√≥ria de Jos√© (G√™nesis 37-50)

### Contexto
- Jos√©, filho favorito de Jac√≥
- Vendido como escravo pelos irm√£os
- Elevado no Egito
- Reconciliado com a fam√≠lia

### Prop√≥sito Teol√≥gico
- **Soberania de Deus**: Deus usa o mal para o bem
- **Provid√™ncia**: Deus est√° no controle
- **Perd√£o**: Poder transformador do perd√£o
- **Plano Redentor**: Preserva√ß√£o do povo de Deus

### Aplica√ß√£o
- Confiar na soberania de Deus
- Praticar perd√£o
- Reconhecer o plano maior de Deus

## Exerc√≠cio Pr√°tico

Leia a hist√≥ria de Rute e identifique:
1. Os personagens principais
2. O conflito central
3. Como Deus age na hist√≥ria
4. O prop√≥sito teol√≥gico
5. Aplica√ß√£o para hoje

No pr√≥ximo m√≥dulo, estudaremos a poesia hebraica.`,
      order: 1,
      duration: 50,
      courseId: course2.id,
    },
  })

  // Criar curso 3: Exposi√ß√£o de Textos Dif√≠ceis
  const course3 = await prisma.course.upsert({
    where: { id: 'course-3' },
    update: {},
    create: {
      id: 'course-3',
      title: 'Exposi√ß√£o de Textos Dif√≠ceis',
      description: 'T√©cnicas avan√ßadas para expor passagens complexas e controversas da B√≠blia. Aprenda a lidar com textos dif√≠ceis de forma respons√°vel e teologicamente s√≥lida.',
      duration: 405, // 6h 45min
      level: 'ADVANCED',
      isPublished: true,
    },
  })

  // Li√ß√µes do curso 3
  const lesson3_1 = await prisma.lesson.create({
    data: {
      title: 'Identificando Textos Dif√≠ceis',
      content: `# Identificando Textos Dif√≠ceis

## O que Torna um Texto Dif√≠cil?

Um texto b√≠blico pode ser considerado "dif√≠cil" por v√°rias raz√µes. Identificar a natureza da dificuldade √© o primeiro passo para uma interpreta√ß√£o adequada.

## Tipos de Dificuldades

### 1. Dificuldades Textuais
**Problemas**:
- Variantes manuscritas
- Palavras obscuras ou raras
- Textos corrompidos
- Lacunas no texto

**Solu√ß√µes**:
- Consultar diferentes tradu√ß√µes
- Usar coment√°rios t√©cnicos
- Estudar cr√≠tica textual
- Reconhecer limita√ß√µes

### 2. Dificuldades Hist√≥ricas
**Problemas**:
- Eventos n√£o confirmados arqueologicamente
- N√∫meros aparentemente exagerados
- Cronologias conflitantes
- Costumes estranhos

**Solu√ß√µes**:
- Pesquisar evid√™ncias arqueol√≥gicas
- Considerar g√™neros liter√°rios
- Entender hiperboles antigas
- Distinguir entre literal e simb√≥lico

### 3. Dificuldades Culturais
**Problemas**:
- Costumes estranhos ao mundo moderno
- Valores culturais diferentes
- Pr√°ticas que parecem injustas
- Linguagem ofensiva

**Solu√ß√µes**:
- Estudar contexto cultural
- Identificar princ√≠pios universais
- Separar cultural do atemporal
- Aplicar com sensibilidade

### 4. Dificuldades Teol√≥gicas
**Problemas**:
- Aparentes contradi√ß√µes
- Doutrinas complexas
- Mist√©rios divinos
- Tens√µes teol√≥gicas

**Solu√ß√µes**:
- Estudar teologia sistem√°tica
- Reconhecer paradoxos leg√≠timos
- Aceitar mist√©rios
- Manter humildade

## Exemplos de Textos Dif√≠ceis

### 1. Josu√© 6:17-21 - Destrui√ß√£o de Jeric√≥
**Dificuldade**: Aparente genoc√≠dio divino

**Contexto**:
- Guerra santa no Antigo Testamento
- Ju√≠zo divino sobre pecado
- Preserva√ß√£o de Raabe e fam√≠lia

**Princ√≠pio**: Deus √© justo e misericordioso

### 2. Salmo 137:9 - Beb√™s contra rochas
**Dificuldade**: Viol√™ncia aparente

**Contexto**:
- Poesia de lamento
- Linguagem hiperb√≥lica
- Express√£o de dor nacional

**Princ√≠pio**: Deus ouve o clamor dos oprimidos

### 3. 1 Tim√≥teo 2:12 - Mulheres no minist√©rio
**Dificuldade**: Aparente discrimina√ß√£o

**Contexto**:
- Situa√ß√£o espec√≠fica em √âfeso
- Problemas com falsos mestres
- Princ√≠pio de ordem na igreja

**Princ√≠pio**: Aplicar com sabedoria cultural

## Ferramentas para Textos Dif√≠ceis

### 1. Coment√°rios Especializados
- Coment√°rios t√©cnicos
- Coment√°rios pastorais
- Coment√°rios hist√≥ricos

### 2. Dicion√°rios e Enciclop√©dias
- Defini√ß√µes precisas
- Contexto hist√≥rico
- Informa√ß√µes culturais

### 3. Estudos de Palavras
- Significado original
- Uso no contexto
- Desenvolvimento sem√¢ntico

### 4. Teologia Sistem√°tica
- Doutrinas relacionadas
- Harmonia b√≠blica
- Princ√≠pios teol√≥gicos

## Exerc√≠cio

Escolha um texto dif√≠cil e:
1. Identifique o tipo de dificuldade
2. Pesquise o contexto
3. Consulte coment√°rios
4. Formule uma interpreta√ß√£o respons√°vel

No pr√≥ximo m√≥dulo, aprenderemos t√©cnicas espec√≠ficas de interpreta√ß√£o.`,
      order: 1,
      duration: 60,
      courseId: course3.id,
    },
  })

  console.log('‚úÖ Seed conclu√≠do com sucesso!')
  console.log('Usu√°rios criados:', { admin, instructor, student })
  console.log('Cursos criados:', { course1, course2, course3 })
}

main()
  .catch((e) => {
    console.error(e)
    process.exit(1)
  })
  .finally(async () => {
    await prisma.$disconnect()
  }) 